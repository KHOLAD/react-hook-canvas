(this["webpackJsonptensor-react"]=this["webpackJsonptensor-react"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(10),c=n.n(o),i=(n(18),n(19),n(20),n(2)),l=n(4),u=function(e){var t=e.valueChange,n=e.invalid,r=["bg-white","focus:outline-none","focus:outline-none","border","border-gray-300","rounded-lg","py-2","px-4","block","w-full","appearance-none","leading-normal","".concat(n?"border-red-500":"")];return a.a.createElement("input",{onChange:function(e){var n=e.target;return t(n.value)},className:r.join(" "),type:"text",placeholder:"Image url"})},s=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},b=function(e){var t=e.disabled,n=e.onClick,r=e.pending,o=["mx-3","focus:outline-none","focus:outline-none","bg-transparent","hover:bg-blue-500","text-blue-700","font-semibold","hover:text-white","py-2","px-4","border","border-blue-500","hover:border-transparent","rounded","".concat(t||r?"opacity-50 cursor-not-allowed":"")];return a.a.createElement("button",{disabled:t||r,onClick:n,className:o.join(" ")},"Submit")};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=e.onsubmit,n=Object(r.useState)({value:null,isValid:null,submitted:!1,dirty:!1}),o=Object(i.a)(n,2),c=o[0],l=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"container flex"},a.a.createElement(u,{invalid:c.value&&!c.valid,valueChange:function(e){l(d({},c,{value:e,valid:s(e),dirty:!0}))}}),a.a.createElement(b,{onClick:function(){l(d({},c,{submitted:!0,dirty:!1})),t(c.value)},disabled:!c.valid||c.submitted&&!c.dirty})))}var p="https://cors-anywhere.herokuapp.com/";function g(e){var t=e.imageUrl,n=e.onChange,o=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e=new Image,r=o.current,a=o.current.getContext("2d");e.crossOrigin="anonymous",e.src=p+t,e.onload=function(){var t=e.width/e.height,o=r.width,c=o/t;c>r.height&&(o=(c=r.height)*t),a.drawImage(e,0,0,o,c);var i=a.getImageData(e.x,e.y,e.width,e.height);n(i)}}),[t,n]),a.a.createElement("canvas",{width:1280,height:1280,ref:o})}var v=n(5),O=n.n(v),h=n(11);n(22);function y(){return a.a.createElement("div",{className:"preloader m-5"},a.a.createElement("div",null))}var j=n(12);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){var t=e.imageData,n=Object(r.useState)(!0),o=Object(i.a)(n,2),c=o[0],u=o[1],s=Object(r.useState)({className:null,probability:null}),b=Object(i.a)(s,2),m=b[0],d=b[1],f=Object(r.useCallback)((function(e){var t=e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{probability:Math.round(100*e.probability)/100})})).reduce((function(e,t){return e.probability>t.probability?e:t}));d(t),u(!1)}),[]);return Object(r.useEffect)((function(){t&&Object(h.a)(O.a.mark((function e(){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a();case 2:return n=e.sent,e.next=5,n.classify(t);case 5:r=e.sent,console.log("Predictions:",r),f(r),n.infer(t).print(),n.infer(t,!0).print();case 12:case"end":return e.stop()}}),e)})))()}),[t,f]),a.a.createElement(a.a.Fragment,null,c&&a.a.createElement(y,null),!c&&m.className&&m.probability&&a.a.createElement("div",{className:"my-5 px-6 py-4 rounded overflow-hidden shadow-lg"},a.a.createElement("div",{className:"font-bold text-xl mb-2"},"Result"),a.a.createElement("p",{className:"text-gray-700 text-base"},m.className.toUpperCase()," / Probability: ",(100*m.probability).toFixed(0)+"%")))}function x(e){var t=e.imageUrl,n=Object(r.useState)(null),o=Object(i.a)(n,2),c=o[0],l=o[1],u=Object(r.useCallback)((function(e){l(e)}),[]);return a.a.createElement("div",{className:"container m-5"},a.a.createElement(E,{imageData:c}),a.a.createElement(g,{imageUrl:t,onChange:u}))}function P(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(r.useCallback)((function(e){o(e)}),[]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(f,{onsubmit:c}),n&&a.a.createElement(x,{imageUrl:n}))}var k=function(){return a.a.createElement("div",{className:"m-10 flex flex-col items-center flex container mx-auto"},a.a.createElement("h1",{className:"m-8 font-bold"},"Whats on the image?"),a.a.createElement(P,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.896c8b6b.chunk.js.map