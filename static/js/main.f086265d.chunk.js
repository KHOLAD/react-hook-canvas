(this["webpackJsonptensor-react"]=this["webpackJsonptensor-react"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(10),c=n.n(o),i=(n(18),n(19),n(2)),l=(n(20),n(4)),u=function(e){var t=e.valueChange,n=e.invalid,a=e.onEnter,o=["bg-white","focus:outline-none","focus:outline-none","border","border-gray-300","rounded-lg","py-2","px-4","block","w-full","appearance-none","leading-normal","".concat(n?"border-red-500":"")];return r.a.createElement("input",{onKeyDown:function(e){return"Enter"===e.key?a():null},onChange:function(e){var n=e.target;return t(n.value)},className:o.join(" "),type:"text",placeholder:"Image url"})},s=function(e){var t=e.disabled,n=e.onClick,a=e.pending,o=["mx-3","focus:outline-none","focus:outline-none","bg-transparent","hover:bg-blue-500","text-blue-700","font-semibold","hover:text-white","py-2","px-4","border","border-blue-500","hover:border-transparent","rounded","".concat(t||a?"opacity-50 cursor-not-allowed":"")];return r.a.createElement("button",{disabled:t||a,onClick:n,className:o.join(" ")},"Submit")};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=r.a.memo((function(e){var t=e.onsubmit,n=Object(a.useState)({value:null,isValid:null,submitted:!1,dirty:!1}),o=Object(i.a)(n,2),c=o[0],l=o[1],d=Object(a.useCallback)((function(){l(b({},c,{submitted:!0,dirty:!1})),t(c.value)}),[c,t]),m=Object(a.useCallback)((function(e){var t;l(b({},c,{value:e,valid:(t=e,!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)),dirty:!0}))}),[c]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container flex"},r.a.createElement(u,{onEnter:d,invalid:c.value&&!c.valid,valueChange:m}),r.a.createElement(s,{onClick:d,disabled:!c.valid||c.submitted&&!c.dirty})))})),f="https://cors-anywhere.herokuapp.com/";function p(e){var t=e.imageUrl,n=e.onChange,o=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=new Image,a=o.current,r=o.current.getContext("2d");r.clearRect(0,0,a.width,a.height),e.crossOrigin="anonymous",e.src=f+t,e.onload=function(){var t=e.width/e.height,o=a.width,c=o/t;c>a.height&&(o=(c=a.height)*t),r.drawImage(e,0,0,o,c);var i=r.getImageData(e.x,e.y,e.width,e.height);n(i)}}),[t,n]),r.a.createElement("canvas",{width:1280,height:1280,ref:o})}var g=n(5),h=n.n(g),v=n(11);n(22);function O(){return r.a.createElement("div",{className:"preloader m-5"},r.a.createElement("div",null))}var y=n(12);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){var t=e.imageData,n=Object(a.useState)(!0),o=Object(i.a)(n,2),c=o[0],u=o[1],s=Object(a.useState)({className:null,probability:null}),d=Object(i.a)(s,2),b=d[0],m=d[1],f=Object(a.useCallback)((function(e){var t=e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{probability:Math.round(100*e.probability)/100})})).reduce((function(e,t){return e.probability>t.probability?e:t}));m(t),u(!1)}),[]);return Object(a.useEffect)((function(){t&&Object(v.a)(h.a.mark((function e(){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a();case 2:return n=e.sent,e.next=5,n.classify(t);case 5:a=e.sent,console.log("Predictions:",a),f(a),n.infer(t).print(),n.infer(t,!0).print();case 12:case"end":return e.stop()}}),e)})))()}),[t,f]),r.a.createElement(r.a.Fragment,null,c&&r.a.createElement(O,null),!c&&b.className&&b.probability&&r.a.createElement("div",{className:"my-5 px-6 py-4 rounded overflow-hidden shadow-lg"},r.a.createElement("div",{className:"font-bold text-xl mb-2"},"Result"),r.a.createElement("p",{className:"text-gray-700 text-base"},b.className.toUpperCase()," / Probability: ",(100*b.probability).toFixed(0)+"%")))}var w=r.a.memo((function(e){var t=e.imageUrl,n=Object(a.useState)(null),o=Object(i.a)(n,2),c=o[0],l=o[1],u=Object(a.useCallback)((function(e){l(e)}),[]);return r.a.createElement("div",{className:"container m-5"},r.a.createElement(x,{imageData:c}),r.a.createElement(p,{imageUrl:t,onChange:u}))})),E=["https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fcreativepool.com%2Ffiles%2Fcandidate%2Fportfolio%2Ffull%2F1118418.jpg&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi.pinimg.com%2Foriginals%2F0f%2F10%2Fbd%2F0f10bd1dbecaa2bfd33612bb04d99347.jpg&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi.pinimg.com%2Foriginals%2F81%2F34%2Fbe%2F8134bec85c41d6ad60fd25d5b9d22e3c.jpg&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fi.telegraph.co.uk%2Fmultimedia%2Farchive%2F01834%2Fcat-thumbs-up_1834999i.jpg&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fi.redd.it%2F9ntqak56mqh21.jpg&f=1&nofb=1","https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fi.imgur.com%2FlCFGt7m.jpg&f=1&nofb=1"],F=function(e){var t=e.handleClick;return r.a.createElement("div",{className:"m-1 w-full text-center py-4 lg:px-4"},r.a.createElement("div",{onClick:function(){t(E[Math.floor(Math.random()*E.length)])},className:"cursor-pointer select-none p-2 bg-indigo-800 items-center text-indigo-100 leading-none lg:rounded-full flex lg:inline-flex",role:"alert"},r.a.createElement("span",{className:"flex rounded-full bg-indigo-500 uppercase px-2 py-1 text-xs font-bold mr-3"},"New"),r.a.createElement("span",{className:"font-semibold mr-2 text-left flex-auto"},"Click here to use cool random image")))};var k=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useCallback)((function(e){o(e)}),[]);return r.a.createElement("div",{className:"m-10 flex flex-col items-center flex container mx-auto"},r.a.createElement("h1",{className:"m-8 font-bold"},"Whats on the image?"),r.a.createElement(F,{handleClick:c}),r.a.createElement(m,{onsubmit:c}),n&&r.a.createElement(w,{imageUrl:n}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.f086265d.chunk.js.map