(this["webpackJsonptensor-react"]=this["webpackJsonptensor-react"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(10),o=n.n(c),i=(n(18),n(19),n(20),n(2)),l=n(4),u=function(e){var t=e.valueChange,n=e.invalid,a=["bg-white","focus:outline-none","focus:outline-none","border","border-gray-300","rounded-lg","py-2","px-4","block","w-full","appearance-none","leading-normal","".concat(n?"border-red-500":"")];return r.a.createElement("input",{onChange:function(e){var n=e.target;return t(n.value)},className:a.join(" "),type:"text",placeholder:"Image url"})},s=function(e){var t=e.disabled,n=e.onClick,a=e.pending,c=["mx-3","focus:outline-none","focus:outline-none","bg-transparent","hover:bg-blue-500","text-blue-700","font-semibold","hover:text-white","py-2","px-4","border","border-blue-500","hover:border-transparent","rounded","".concat(t||a?"opacity-50 cursor-not-allowed":"")];return r.a.createElement("button",{disabled:t||a,onClick:n,className:c.join(" ")},"Submit")};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=r.a.memo((function(e){var t=e.onsubmit,n=Object(a.useState)({value:null,isValid:null,submitted:!1,dirty:!1}),c=Object(i.a)(n,2),o=c[0],l=c[1],b=Object(a.useCallback)((function(){l(m({},o,{submitted:!0,dirty:!1})),t(o.value)}),[o,t]),d=Object(a.useCallback)((function(e){var t;l(m({},o,{value:e,valid:(t=e,!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(t)),dirty:!0}))}),[o]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container flex"},r.a.createElement(u,{invalid:o.value&&!o.valid,valueChange:d}),r.a.createElement(s,{onClick:b,disabled:!o.valid||o.submitted&&!o.dirty})))})),f="https://cors-anywhere.herokuapp.com/";function p(e){var t=e.imageUrl,n=e.onChange,c=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=new Image,a=c.current,r=c.current.getContext("2d");r.clearRect(0,0,a.width,a.height),e.crossOrigin="anonymous",e.src=f+t,e.onload=function(){var t=e.width/e.height,c=a.width,o=c/t;o>a.height&&(c=(o=a.height)*t),r.drawImage(e,0,0,c,o);var i=r.getImageData(e.x,e.y,e.width,e.height);n(i)}}),[t,n]),r.a.createElement("canvas",{width:1280,height:1280,ref:c})}var g=n(5),v=n.n(g),h=n(11);n(22);function O(){return r.a.createElement("div",{className:"preloader m-5"},r.a.createElement("div",null))}var y=n(12);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){var t=e.imageData,n=Object(a.useState)(!0),c=Object(i.a)(n,2),o=c[0],u=c[1],s=Object(a.useState)({className:null,probability:null}),b=Object(i.a)(s,2),m=b[0],d=b[1],f=Object(a.useCallback)((function(e){var t=e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{probability:Math.round(100*e.probability)/100})})).reduce((function(e,t){return e.probability>t.probability?e:t}));d(t),u(!1)}),[]);return Object(a.useEffect)((function(){t&&Object(h.a)(v.a.mark((function e(){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a();case 2:return n=e.sent,e.next=5,n.classify(t);case 5:a=e.sent,console.log("Predictions:",a),f(a),n.infer(t).print(),n.infer(t,!0).print();case 12:case"end":return e.stop()}}),e)})))()}),[t,f]),r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(O,null),!o&&m.className&&m.probability&&r.a.createElement("div",{className:"my-5 px-6 py-4 rounded overflow-hidden shadow-lg"},r.a.createElement("div",{className:"font-bold text-xl mb-2"},"Result"),r.a.createElement("p",{className:"text-gray-700 text-base"},m.className.toUpperCase()," / Probability: ",(100*m.probability).toFixed(0)+"%")))}var E=r.a.memo((function(e){var t=e.imageUrl,n=Object(a.useState)(null),c=Object(i.a)(n,2),o=c[0],l=c[1],u=Object(a.useCallback)((function(e){l(e)}),[]);return r.a.createElement("div",{className:"container m-5"},r.a.createElement(w,{imageData:o}),r.a.createElement(p,{imageUrl:t,onChange:u}))})),x=r.a.memo((function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useCallback)((function(e){c(e)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{onsubmit:o}),n&&r.a.createElement(E,{imageUrl:n}))}));var P=function(){return r.a.createElement("div",{className:"m-10 flex flex-col items-center flex container mx-auto"},r.a.createElement("h1",{className:"m-8 font-bold"},"Whats on the image?"),r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[13,1,2]]]);
//# sourceMappingURL=main.24c3af31.chunk.js.map